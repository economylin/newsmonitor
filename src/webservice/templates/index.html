<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title>Fetch page</title>
</head>
  <body>
    <form action="/fetch" method="POST">
    Slug: <input type="text" name="slug" value="{{ newssource.slug }}" size="30"/>
    Name: <input type="text" name="name" value="{{ newssource.name }}" size="30"/>
    Active: <input type="checkbox" name="active" {% if newssource.active %} checked {% endif %}/>
    <br/>URL: <input type="text" name="fetchurl" value="{{ newssource.fetchurl }}" size="80"/>
    <br/>Cookie: <input type="text" name="cookie" size="80" value="{{ newssource.cookie }}"/>
    Encoding: <input type="text" name="encoding" value="{{ newssource.encoding }}" size="10"/>
    <br/>Header:<br/><textarea name="httpheader" rows="3" cols="130">{{ httpheader }}</textarea>
    <br/><input type="text" name="parsedurl" value="{{ parsedurl }}" size="80" readonly="True"/>
    <input type="text" name="parsedencoding" value="{{ parsedencoding }}" size="10" readonly="True"/>
    <br/><textarea name="content" rows="10" cols="130">{{ content }}</textarea>
    <br/>Selector: <input type="text" name="selector" value="{{ newssource.selector }}" size="80"/>
    <input type="button" value="Clean" onclick="(this.parent || this.parentNode).content.value='';"/>
    <input name="action" type="submit" value="Submit" />
    <br/><br/><textarea name="jsonstr" rows="9" cols="130">{{ jsonstr }}</textarea>
    <input type="submit" name="action" value="JSON" />
    </form>
    <br/>{{ items }}
    {% for item in items %}
        <br/><br/><a href="{{ item.url }}" target="_blank">{{ item.title }}</a>
        {% if item.imgurl %}<img src="{{ item.imgurl }}" width="{{ item.imgwidth }}" height="{{ item.imgheight }}"/>{% endif %}
        {% if item.content %}<br/><p>{{ item.content }}</p>{% endif %}
    {% endfor %}
  </body>
</html>

